<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Privacy-first Daily AI Assistant powered by Google Gemini for task management and productivity">
    <meta name="theme-color" content="#0d0d0d">
    <title>Daily AI Assistant - Productivity Companion</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <div class="app-container" role="application" aria-label="Daily AI Assistant">
        <!-- Sidebar -->
        <aside class="sidebar" role="complementary" aria-label="Navigation and tools">
            <div class="sidebar-header">
                <button id="newChatBtn" class="new-chat-btn" aria-label="Start new chat conversation">
                    <span>+ New Chat</span>
                </button>
            </div>

            <!-- Sidebar Tabs -->
            <nav class="sidebar-tabs" role="tablist" aria-label="Sidebar sections">
                <button class="tab-btn active" role="tab" data-tab="tasks" aria-selected="true" aria-controls="tasksPanel" id="tasks-tab">üìã Tasks</button>
                <button class="tab-btn" role="tab" data-tab="notes" aria-selected="false" aria-controls="notesPanel" id="notes-tab">üìù Notes</button>
                <button class="tab-btn" role="tab" data-tab="history" aria-selected="false" aria-controls="historyPanel" id="history-tab">‚è±Ô∏è History</button>
            </nav>

            <!-- Tasks Panel -->
            <section id="tasksPanel" class="sidebar-panel active" role="tabpanel" aria-labelledby="tasks-tab" tabindex="0">
                <div class="panel-header">
                    <h3 id="tasks-heading">Daily Tasks</h3>
                    <button id="addTaskBtn" class="icon-btn" aria-label="Add new task" title="Add task">+</button>
                </div>
                <div class="task-input-section" id="taskInputSection" style="display: none;">
                    <label for="taskInput" class="visually-hidden">Task description</label>
                    <input 
                        type="text" 
                        id="taskInput" 
                        placeholder="Add a task..."
                        class="task-input"
                        aria-label="Task description"
                        aria-describedby="task-help-text"
                    >
                    <button id="confirmTaskBtn" class="confirm-btn" aria-label="Confirm and add task">Add</button>
                    <span id="task-help-text" class="visually-hidden">Press Enter or click Add to create task</span>
                </div>
                <ul id="tasksList" class="tasks-list" role="list" aria-label="Your tasks">
                    <!-- Tasks dynamically added here -->
                </ul>
                <div id="taskEmptyState" class="empty-state" role="status" aria-live="polite">
                    <p>No tasks yet. Click + to add one.</p>
                </div>
            </section>

            <!-- Notes Panel -->
            <section id="notesPanel" class="sidebar-panel" role="tabpanel" aria-labelledby="notes-tab" tabindex="0" hidden>
                <div class="panel-header">
                    <h3 id="notes-heading">Quick Notes</h3>
                    <button id="addNoteBtn" class="icon-btn" aria-label="Add new note" title="Add note">+</button>
                </div>
                <ul id="notesList" class="notes-list" role="list" aria-label="Your notes">
                    <!-- Notes dynamically added here -->
                </ul>
                <div id="noteEmptyState" class="empty-state" role="status" aria-live="polite">
                    <p>No notes yet. Create one to capture ideas.</p>
                </div>
            </section>

            <!-- History Panel -->
            <section id="historyPanel" class="sidebar-panel" role="tabpanel" aria-labelledby="history-tab" tabindex="0" hidden>
                <div class="panel-header">
                    <h3 id="history-heading">Chat History</h3>
                    <button id="clearHistoryBtn" class="icon-btn" aria-label="Clear all chat history" title="Clear history">üóëÔ∏è</button>
                </div>
                <ul id="historyList" class="history-list" role="list" aria-label="Chat history">
                    <!-- Chat history dynamically added here -->
                </ul>
                <div id="historyEmptyState" class="empty-state" role="status" aria-live="polite">
                    <p>No chat history yet.</p>
                </div>
            </section>

            <!-- Sidebar Footer -->
            <footer class="sidebar-footer">
                <div class="stats" role="status" aria-label="Item counts">
                    <div class="stat">
                        <span class="stat-label" aria-label="Number of tasks">Tasks</span>
                        <span id="sidebarTaskCount" class="stat-value" aria-live="polite">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label" aria-label="Number of notes">Notes</span>
                        <span id="sidebarNoteCount" class="stat-value" aria-live="polite">0</span>
                    </div>
                </div>
                <div class="sidebar-settings">
                    <button id="settingsBtn" class="icon-btn" aria-label="Open settings" title="Settings">‚öôÔ∏è</button>
                </div>
            </footer>
        </aside>

        <!-- Main Chat Area -->
        <main class="main-content" id="main-content" role="main" aria-label="Chat interface">
            <!-- Header -->
            <header class="main-header">
                <div class="header-left">
                    <h1 id="app-title">Daily AI Assistant</h1>
                    <p class="tagline" role="doc-subtitle">Your productivity companion powered by Gemini</p>
                </div>
                <div class="header-right">
                    <button id="toggleSidebarBtn" class="toggle-btn" aria-label="Toggle sidebar navigation" aria-expanded="true" aria-controls="sidebar">‚ò∞</button>
                </div>
            </header>

            <!-- Quick Actions -->
            <nav class="quick-actions" role="toolbar" aria-label="Quick action shortcuts">
                <button class="action-btn" id="summarizeBtn" data-action="summarize" aria-label="Summarize tasks and priorities">
                    <span aria-hidden="true">üìä</span> Summarize
                </button>
                <button class="action-btn" id="brainstormBtn" data-action="brainstorm" aria-label="Brainstorm ideas">
                    <span aria-hidden="true">üí°</span> Brainstorm
                </button>
                <button class="action-btn" id="generateBtn" data-action="generate" aria-label="Generate productivity schedule">
                    <span aria-hidden="true">‚ú®</span> Generate
                </button>
                <button class="action-btn" id="scheduleBtn" data-action="schedule" aria-label="Schedule and prioritize tasks">
                    <span aria-hidden="true">üìÖ</span> Schedule
                </button>
                <button class="action-btn" id="analyzeBtn" data-action="analyze" aria-label="Analyze task patterns">
                    <span aria-hidden="true">üîç</span> Analyze
                </button>
            </nav>

            <!-- Chat Messages -->
            <div id="chatMessages" class="chat-messages" role="log" aria-live="polite" aria-atomic="false" aria-label="Chat conversation">
                <article class="message bot-message" role="article">
                    <div class="message-avatar" aria-hidden="true">ü§ñ</div>
                    <div class="message-content">
                        <p>Hello! I'm your Daily AI Assistant. I can help you with:</p>
                        <ul style="margin-top: 8px; margin-left: 20px; font-size: 0.9em; opacity: 0.8;">
                            <li>Answering questions and having conversations</li>
                            <li>Managing your daily tasks and priorities</li>
                            <li>Summarizing information and brainstorming ideas</li>
                            <li>Analyzing content and generating suggestions</li>
                            <li>Helping with scheduling and planning</li>
                        </ul>
                    </div>
                </article>
            </div>

            <!-- Chat Input Section -->
            <section class="chat-input-container" aria-label="Message input">
                <div id="apiKeyNotice" class="api-notice" role="alert" aria-live="assertive">
                    <p>‚ö†Ô∏è Add your Gemini API key in Settings to enable AI features</p>
                </div>
                <form class="input-wrapper" aria-label="Send message form">
                    <label for="chatInput" class="visually-hidden">Chat message</label>
                    <textarea 
                        id="chatInput" 
                        class="chat-input"
                        placeholder="Ask me anything... (Shift+Enter to send)"
                        rows="1"
                        aria-label="Type your message"
                        aria-describedby="input-help-text"
                        disabled
                    ></textarea>
                    <button id="sendBtn" class="send-btn" type="submit" aria-label="Send message" disabled>
                        <span>Send</span>
                    </button>
                    <span id="input-help-text" class="visually-hidden">Press Shift+Enter to send your message</span>
                </form>
                <div class="input-footer">
                    <small role="contentinfo">Free research preview. Use responsibly.</small>
                </div>
            </section>
        </main>

        <!-- Settings Modal -->
        <div id="settingsModal" class="modal" role="dialog" aria-labelledby="settings-title" aria-modal="true" style="display: none;" hidden>
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="settings-title">Settings</h2>
                    <button id="closeSettingsBtn" class="close-btn" aria-label="Close settings">‚úï</button>
                </div>
                <div class="modal-body">
                    <div class="setting-item">
                        <label for="apiKeyInput">Gemini API Key:</label>
                        <input 
                            type="password" 
                            id="apiKeyInput" 
                            class="setting-input"
                            placeholder="Enter your API key"
                            aria-required="true"
                            aria-describedby="api-key-help"
                        >
                        <small id="api-key-help">Your API key is stored locally only</small>
                    </div>
                    <div class="setting-item">
                        <label for="darkModeToggle">
                            <input type="checkbox" id="darkModeToggle" checked aria-describedby="dark-mode-help">
                            Dark Mode
                        </label>
                        <small id="dark-mode-help" class="visually-hidden">Toggle between dark and light color schemes</small>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="saveSettingsBtn" class="primary-btn" aria-label="Save settings and close">Save</button>
                </div>
            </div>
        </div>

        <!-- Overlay for Modal -->
        <div id="modalOverlay" class="modal-overlay" style="display: none;" hidden></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
